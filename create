CREATE TABLE eventos (id INT AUTO_INCREMENT NOT NULL, pais_id INT DEFAULT NULL, nombre VARCHAR(255) NOT NULL, anho VARCHAR(255) NOT NULL, web VARCHAR(255) NOT NULL, info LONGTEXT NOT NULL, lugar VARCHAR(255) NOT NULL, INDEX IDX_6B23BD8FC604D5C6 (pais_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE curadores_x_evento (evento_id INT NOT NULL, persona_id INT NOT NULL, INDEX IDX_E0B6D35887A5F842 (evento_id), INDEX IDX_E0B6D358F5F88DB9 (persona_id), PRIMARY KEY(evento_id, persona_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE obras_x_evento (evento_id INT NOT NULL, obra_id INT NOT NULL, INDEX IDX_D08F727F87A5F842 (evento_id), INDEX IDX_D08F727F3C2672C8 (obra_id), PRIMARY KEY(evento_id, obra_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE medios_x_evento (evento_id INT NOT NULL, medio_id INT NOT NULL, INDEX IDX_35F9580287A5F842 (evento_id), INDEX IDX_35F95802A40AA46 (medio_id), PRIMARY KEY(evento_id, medio_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE formatos (id INT AUTO_INCREMENT NOT NULL, formato VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE generos (id INT AUTO_INCREMENT NOT NULL, genero VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE medios (id INT AUTO_INCREMENT NOT NULL, archivo VARCHAR(255) NOT NULL, tipo INT NOT NULL, descripcion VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE metadatos (id INT AUTO_INCREMENT NOT NULL, persona_id INT DEFAULT NULL, obra_id INT DEFAULT NULL, evento_id INT DEFAULT NULL, metadato VARCHAR(255) NOT NULL, tipo INT NOT NULL, discr VARCHAR(255) NOT NULL, INDEX IDX_9F1822CCF5F88DB9 (persona_id), INDEX IDX_9F1822CC3C2672C8 (obra_id), INDEX IDX_9F1822CC87A5F842 (evento_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE obras (id INT AUTO_INCREMENT NOT NULL, titulo VARCHAR(255) NOT NULL, sinopsis LONGTEXT NOT NULL, anho VARCHAR(255) NOT NULL, duracion VARCHAR(255) NOT NULL, mostrar TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE generos_x_obra (obra_id INT NOT NULL, genero_id INT NOT NULL, INDEX IDX_1F2BC1E53C2672C8 (obra_id), INDEX IDX_1F2BC1E5BCE7B795 (genero_id), PRIMARY KEY(obra_id, genero_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE formatos_x_obra (obra_id INT NOT NULL, formato_id INT NOT NULL, INDEX IDX_49F345553C2672C8 (obra_id), INDEX IDX_49F345558D02887B (formato_id), PRIMARY KEY(obra_id, formato_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE medios_x_obra (obra_id INT NOT NULL, medio_id INT NOT NULL, INDEX IDX_1DA509F53C2672C8 (obra_id), INDEX IDX_1DA509F5A40AA46 (medio_id), PRIMARY KEY(obra_id, medio_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE palabras_x_obra (obra_id INT NOT NULL, palabraclave_id INT NOT NULL, INDEX IDX_F32571573C2672C8 (obra_id), INDEX IDX_F3257157644F4827 (palabraclave_id), PRIMARY KEY(obra_id, palabraclave_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE paises (id INT AUTO_INCREMENT NOT NULL, pais VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE palabras_clave (id INT AUTO_INCREMENT NOT NULL, palabra VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE personas (id INT AUTO_INCREMENT NOT NULL, pais_id INT DEFAULT NULL, nombre VARCHAR(255) NOT NULL, apellido VARCHAR(255) NOT NULL, data LONGTEXT NOT NULL, inicio VARCHAR(255) NOT NULL, web VARCHAR(255) NOT NULL, sexo VARCHAR(255) NOT NULL, mostrar TINYINT(1) NOT NULL, INDEX IDX_7C826071C604D5C6 (pais_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE tipos_x_persona (persona_id INT NOT NULL, tipodepersona_id INT NOT NULL, INDEX IDX_BD6143C9F5F88DB9 (persona_id), INDEX IDX_BD6143C9CE9D2AB (tipodepersona_id), PRIMARY KEY(persona_id, tipodepersona_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE obras_x_artista (persona_id INT NOT NULL, obra_id INT NOT NULL, INDEX IDX_2B2D600DF5F88DB9 (persona_id), INDEX IDX_2B2D600D3C2672C8 (obra_id), PRIMARY KEY(persona_id, obra_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE colaboradores_x_obra (persona_id INT NOT NULL, obra_id INT NOT NULL, INDEX IDX_71C393EBF5F88DB9 (persona_id), INDEX IDX_71C393EB3C2672C8 (obra_id), PRIMARY KEY(persona_id, obra_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE medios_x_persona (persona_id INT NOT NULL, medio_id INT NOT NULL, INDEX IDX_CFF35C6BF5F88DB9 (persona_id), INDEX IDX_CFF35C6BA40AA46 (medio_id), PRIMARY KEY(persona_id, medio_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE tipo_de_persona (id INT AUTO_INCREMENT NOT NULL, tipo VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE eventos ADD CONSTRAINT FK_6B23BD8FC604D5C6 FOREIGN KEY (pais_id) REFERENCES paises (id);
ALTER TABLE curadores_x_evento ADD CONSTRAINT FK_E0B6D35887A5F842 FOREIGN KEY (evento_id) REFERENCES eventos (id) ON DELETE CASCADE;
ALTER TABLE curadores_x_evento ADD CONSTRAINT FK_E0B6D358F5F88DB9 FOREIGN KEY (persona_id) REFERENCES personas (id) ON DELETE CASCADE;
ALTER TABLE obras_x_evento ADD CONSTRAINT FK_D08F727F87A5F842 FOREIGN KEY (evento_id) REFERENCES eventos (id) ON DELETE CASCADE;
ALTER TABLE obras_x_evento ADD CONSTRAINT FK_D08F727F3C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE medios_x_evento ADD CONSTRAINT FK_35F9580287A5F842 FOREIGN KEY (evento_id) REFERENCES eventos (id) ON DELETE CASCADE;
ALTER TABLE medios_x_evento ADD CONSTRAINT FK_35F95802A40AA46 FOREIGN KEY (medio_id) REFERENCES medios (id) ON DELETE CASCADE;
ALTER TABLE metadatos ADD CONSTRAINT FK_9F1822CCF5F88DB9 FOREIGN KEY (persona_id) REFERENCES personas (id);
ALTER TABLE metadatos ADD CONSTRAINT FK_9F1822CC3C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id);
ALTER TABLE metadatos ADD CONSTRAINT FK_9F1822CC87A5F842 FOREIGN KEY (evento_id) REFERENCES eventos (id);
ALTER TABLE generos_x_obra ADD CONSTRAINT FK_1F2BC1E53C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE generos_x_obra ADD CONSTRAINT FK_1F2BC1E5BCE7B795 FOREIGN KEY (genero_id) REFERENCES generos (id) ON DELETE CASCADE;
ALTER TABLE formatos_x_obra ADD CONSTRAINT FK_49F345553C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE formatos_x_obra ADD CONSTRAINT FK_49F345558D02887B FOREIGN KEY (formato_id) REFERENCES formatos (id) ON DELETE CASCADE;
ALTER TABLE medios_x_obra ADD CONSTRAINT FK_1DA509F53C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE medios_x_obra ADD CONSTRAINT FK_1DA509F5A40AA46 FOREIGN KEY (medio_id) REFERENCES medios (id) ON DELETE CASCADE;
ALTER TABLE palabras_x_obra ADD CONSTRAINT FK_F32571573C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE palabras_x_obra ADD CONSTRAINT FK_F3257157644F4827 FOREIGN KEY (palabraclave_id) REFERENCES palabras_clave (id) ON DELETE CASCADE;
ALTER TABLE personas ADD CONSTRAINT FK_7C826071C604D5C6 FOREIGN KEY (pais_id) REFERENCES paises (id);
ALTER TABLE tipos_x_persona ADD CONSTRAINT FK_BD6143C9F5F88DB9 FOREIGN KEY (persona_id) REFERENCES personas (id) ON DELETE CASCADE;
ALTER TABLE tipos_x_persona ADD CONSTRAINT FK_BD6143C9CE9D2AB FOREIGN KEY (tipodepersona_id) REFERENCES tipo_de_persona (id) ON DELETE CASCADE;
ALTER TABLE obras_x_artista ADD CONSTRAINT FK_2B2D600DF5F88DB9 FOREIGN KEY (persona_id) REFERENCES personas (id) ON DELETE CASCADE;
ALTER TABLE obras_x_artista ADD CONSTRAINT FK_2B2D600D3C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE colaboradores_x_obra ADD CONSTRAINT FK_71C393EBF5F88DB9 FOREIGN KEY (persona_id) REFERENCES personas (id) ON DELETE CASCADE;
ALTER TABLE colaboradores_x_obra ADD CONSTRAINT FK_71C393EB3C2672C8 FOREIGN KEY (obra_id) REFERENCES obras (id) ON DELETE CASCADE;
ALTER TABLE medios_x_persona ADD CONSTRAINT FK_CFF35C6BF5F88DB9 FOREIGN KEY (persona_id) REFERENCES personas (id) ON DELETE CASCADE;
ALTER TABLE medios_x_persona ADD CONSTRAINT FK_CFF35C6BA40AA46 FOREIGN KEY (medio_id) REFERENCES medios (id) ON DELETE CASCADE;
